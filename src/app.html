<!doctype html>
<html lang="en">
    <head>
    <meta charset="utf-8" />
    <title>BodyMetrics</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <meta name="theme-color" content="#4f46e5" />
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="BodyMetrics">
    
    <link rel="icon" type="image/png" href="%sveltekit.assets%/favicon.png" />
    <link rel="apple-touch-icon" href="%sveltekit.assets%/icon-192.png" />
    <link rel="manifest" href="%sveltekit.assets%/manifest.json">
    
    %sveltekit.head%
</head>
    <body data-sveltekit-preload-data="hover">
        <div style="display: contents">%sveltekit.body%</div>

        <script>
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', function() {
                    // Add ?v=Date.now() to bypass Cloudflare/Browser cache
                    var swUrl = '/sw.js?v=' + Date.now();
                    
                    navigator.serviceWorker.register(swUrl).then(function(registration) {
                        console.log('✅ SW Registered successfully (Cache Buster):', registration.scope);
                    }).catch(function(err) {
                        console.error('❌ SW Registration failed:', err);
                    });
                });
            }
        </script>
        </body>
</html>